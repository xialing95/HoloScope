    <div id="imagelist-container" class="form-input">
    <h3>Image List <button onclick="updateImageList()">Update List</button></h3>
    <ul id="image-list">
        {% for image in images %}
        <li>
            {{ image }}
            <a href="{{ url_for('download', filename=image) }}" download>Download</a>
            <button onclick="deleteImage('{{ image }}')">Delete</button>
        </li>
        {% endfor %}
    </ul>
    </div>

    <script>
    // Function to update the image list dynamically
    function updateImageList() {
        fetch('/get_images')
            .then(response => response.json())
            .then(data => {
                const imageList = document.getElementById('image-list');
                imageList.innerHTML = '';  // Clear the existing list
                data.forEach(image => {
                    const listItem = document.createElement('li');
                    listItem.innerHTML = `
                        ${image}
                        <a href="/static/${image}" download>
                            <button>Download</button>
                        </a>

                        <button onclick="deleteImage('${image}')" >Delete</button>
                    `;
                    imageList.appendChild(listItem);
                });
            })
            .catch(error => console.error('Error fetching image list:', error));
    }

    function deleteImage(filename) {
    fetch(`/delete-image/${filename}`, { method: 'DELETE' })
        .then(response => response.json())
        .then(data => {
            if (data.message) {
                alert(data.message);
                updateImageList(); // Refresh the list after deletion
            } else if (data.error) {
                alert(data.error);
            }
        })
        .catch(error => console.error('Error deleting image:', error)); 
    }

    function showSpinner() {
      document.getElementById('spinner').style.display = 'block';
      document.getElementById('message').style.display = 'block';
      document.getElementById('connectForm').style.display = 'none';
    }
    </script>
